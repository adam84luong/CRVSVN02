<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <sectionGroup name="gibraltar">
      <section name="listener" type="Gibraltar.Agent.ListenerElement, Gibraltar.Agent" />
      <section name="packager" type="Gibraltar.Agent.PackagerElement, Gibraltar.Agent" />
      <section name="publisher" type="Gibraltar.Agent.PublisherElement, Gibraltar.Agent" />
      <section name="sessionFile" type="Gibraltar.Agent.SessionFileElement, Gibraltar.Agent" />
      <section name="viewer" type="Gibraltar.Agent.ViewerElement, Gibraltar.Agent" />
      <section name="email" type="Gibraltar.Agent.EmailElement, Gibraltar.Agent" />
      <section name="server" type="Gibraltar.Agent.ServerElement, Gibraltar.Agent" />
      <section name="autoSendConsent" type="Gibraltar.Agent.AutoSendConsentElement, Gibraltar.Agent" />
      <section name="networkViewer" type="Gibraltar.Agent.NetworkViewerElement, Gibraltar.Agent" />
      <section name="properties" type="System.Configuration.NameValueSectionHandler" />
    </sectionGroup>
    <section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog" />
    <section name="exceptionHandling" type="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Configuration.ExceptionHandlingSettings, Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=3.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
    <section name="dataConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings, Microsoft.Practices.EnterpriseLibrary.Data, Version=3.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
    <section name="enterpriselibrary.configurationSettings" type="Microsoft.Practices.EnterpriseLibrary.Configuration.ConfigurationManagerSectionHandler, Microsoft.Practices.EnterpriseLibrary.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
  </configSections>
  <appSettings>
    <add key="ConnectionString" value="data source=(local);initial catalog=PayjrUnitTest;integrated security=SSPI;persist security info=False;packet size=4096;Max Pool Size=1000" />
    <add key="CatalogNameUsageSetting" value="1" />
    <add key="CatalogNameToUse" value="PayjrUnitTest" />
    <add key="buildInValidationBypassMode" value="1" />
    <add key="RemoteMachine" value="" />
    <add key="BaseKey" value="SOFTWARE\PAYjr" />
    <add key="IgnoreVerify" value="true" />
    <add key="SystemManager_BaseDir" value="./" />
    <add key="SiteManager_BaseDir" value="./" />
    <add key="Schemas_BaseDir" value="./Schemas" />
    <!--For running unit test via Reshapper unit test manager only-->
    <!--<add key="SystemManager_BaseDir" value="./Configuration" />
    <add key="SiteManager_BaseDir" value="./Configuration" />
    <add key="Schemas_BaseDir" value="./Configuration/Schemas" />-->
    <!--End of For running unit test via Reshapper unit test manager only-->
    <add key="SqlServerDQECompatibilityLevel" value="2" />
    <add key="SendReceiptKey" value="{D10FA64F-975C-4bb8-9EB4-70DFED9F3F16}" />
    <add key="BuxxBrandingId" value="af338e92-c3e9-46f3-995e-eb4116b81060" />
    <add key="BuxxThemeId" value="3956D91D-90A5-4189-9E4C-9890CBD9D03D" />
    <add key="DefaultBranding" value="http://localhost:12739" />
    <add key="LogMetrics" value="false" />
    <add key="AWSAccessKey" value="foobar" />
    <add key="AWSSecretKey" value="foobar" />
    <!--Server Side PAYjr QA/DEV UAT Setup-->
    <add key="ServerSideInterfaceURL" value="https://uat.serversidegraphics.com/AllAboutMe/Designer/PCS/Start.aspx" />
    <add key="ServerSideCompBaseURL" value="http://uat.serversidegraphics.com/AllAboutMe/CompetitionAPI/" />
    <add key="ServerSideCompetitionID" value="ca8013a4-defd-4574-94d5-811d4db9444e" />
    <add key="ServerSideHandoverID" value="efdb6481-9a1d-4883-859f-d5f07ed28848" />
    <add key="ServerSidePublicURL" value="https://uat.serversidegraphics.com/AllAboutMe/Designer/PCS/GetPublicDesign.ashx" />
    <add key="ImageInformationKey" value="10cd1480-e0b8-4b49-be19-74fcc82d6b37" />
    <add key="ImageDeliveryKey" value="b5617e2a-710e-460a-9fd8-2b58672659fe" />
    <add key="Payjr_Core_Serversidegraphics_ImageDelivery_Dispatch" value="https://uat.serversidegraphics.com/AllAboutMe/services/PCS/dispatch.asmx" />
    <add key="Payjr_Core_Serversidegraphics_ImageInformation_Information" value="https://uat.serversidegraphics.com/AllAboutMe/services/PCS/information.asmx" />
    <add key="MaxCreditCardsIn3Months" value="2" />
    <add key="VerifyCreditCardEnrollment" value="true" />
    <add key="ClientSettingsProvider.ServiceUri" value="" />
    <!-- Product code  -->
    <add key="CardProductCode" value="110000"/>
    <add key="CardValueProductCode" value="110001"/>
    <add key="EmbossNameProductCode" value="110002"/>
    <add key="TeenFirstNameProductCode" value="110023"/>
    <add key="TeenLastNameProductCode" value="110024"/>
    <add key="TeenBirthdayProductCode" value="110025"/>
    <add key="OvernightShippingProductCode" value="110015"/>
    <add key="IdentityCheckProductCode" value="110019"/>
  </appSettings>
  <nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" throwExceptions="true">
    <extensions>
      <add assembly="Common.Monitoring" />
    </extensions>
    <targets>
      <target name="file" xsi:type="File" layout="${longdate} ${logger} ${message}${newline}(${stacktrace}) ${exception:format=tostring}" fileName="c:\Data\ApplicationLogs\Payjr\Payjr.UnitTests.${shortdate}.log" />
      <target name="Monitoring" xsi:type="Monitoring" />
    </targets>
    <rules>
      <logger name="*" minlevel="Trace" writeTo="file" />
      <logger name="*" minlevel="Trace" writeTo="Monitoring" />
    </rules>
  </nlog>
  <exceptionHandling>
    <exceptionPolicies>
      <add name="Business Logic Policy">
        <exceptionTypes>
          <add type="System.Exception, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" postHandlingAction="NotifyRethrow" name="Exception">
            <exceptionHandlers>
              <add type="Common.Logging.ExceptionHandlers.PayJrExceptionHandler, Payjr.Logging, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="PayJrExceptionHandler" />
            </exceptionHandlers>
          </add>
        </exceptionTypes>
      </add>
      <add name="Data Access Policy">
        <exceptionTypes>
          <add type="System.Exception, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" postHandlingAction="NotifyRethrow" name="Exception">
            <exceptionHandlers>
              <add type="Common.Logging.ExceptionHandlers.PayJrExceptionHandler, Payjr.Logging, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="PayJrExceptionHandler" />
            </exceptionHandlers>
          </add>
        </exceptionTypes>
      </add>
      <add name="Presentation Policy">
        <exceptionTypes>
          <add type="System.Exception, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" postHandlingAction="NotifyRethrow" name="Exception">
            <exceptionHandlers>
              <add type="Common.Logging.ExceptionHandlers.PayJrExceptionHandler, Payjr.Logging, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="PayJrExceptionHandler" />
            </exceptionHandlers>
          </add>
        </exceptionTypes>
      </add>
    </exceptionPolicies>
  </exceptionHandling>
  <system.net>
    <mailSettings>
      <smtp from="support@payjr.com">
        <network host="cash.payjr.local" port="25" userName="support@payjr.com" password="$upport4u" defaultCredentials="true" />
      </smtp>
    </mailSettings>
  </system.net>
  <enterpriselibrary.configurationSettings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" applicationName="Application" xmlns="http://www.microsoft.com/practices/enterpriselibrary/08-31-2004/configuration">
    <configurationSections>
      <configurationSection xsi:type="ReadOnlyConfigurationSectionData" name="loggingConfiguration" encrypt="false">
        <storageProvider xsi:type="XmlFileStorageProviderData" name="XML File Storage Provider" path="loggingConfiguration.config" />
        <dataTransformer xsi:type="XmlSerializerTransformerData" name="Xml Serializer Transformer">
          <includeTypes />
        </dataTransformer>
      </configurationSection>
      <configurationSection xsi:type="ReadOnlyConfigurationSectionData" name="loggingDistributorConfiguration" encrypt="false">
        <storageProvider xsi:type="XmlFileStorageProviderData" name="XML File Storage Provider" path="loggingDistributorConfiguration.config" />
        <dataTransformer xsi:type="XmlSerializerTransformerData" name="Xml Serializer Transformer">
          <includeTypes />
        </dataTransformer>
      </configurationSection>
    </configurationSections>
    <keyAlgorithmStorageProvider xsi:nil="true" />
    <includeTypes />
  </enterpriselibrary.configurationSettings>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="ITransactionProcessor" closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00" allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard" maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536" messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered" useDefaultWebProxy="true">
          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <security mode="TransportWithMessageCredential">
            <transport clientCredentialType="None" proxyCredentialType="None" realm="" />
            <message clientCredentialType="UserName" algorithmSuite="Default" />
          </security>
        </binding>
        <binding name="FsvRemoteServiceSoap" closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00" allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard" maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536" messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered" useDefaultWebProxy="true">
          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <security mode="Transport">
            <transport clientCredentialType="None" proxyCredentialType="None" realm="" />
            <message clientCredentialType="UserName" algorithmSuite="Default" />
          </security>
        </binding>
      </basicHttpBinding>
    </bindings>
    <client>
      <endpoint address="https://ics2wstest.ic3.com/commerce/1.x/transactionProcessor" binding="basicHttpBinding" bindingConfiguration="ITransactionProcessor" contract="ITransactionProcessor" name="portXML" />
      <endpoint address="http://service/FSVSimulator/fsvremote.asmx" binding="basicHttpBinding" bindingConfiguration="FsvRemoteServiceSoap" contract="FSVService.FsvRemoteServiceSoap" name="FsvRemoteServiceSoap" />
    </client>
  </system.serviceModel>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="FileHelpers" publicKeyToken="3e0c08d59cc3d657" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.9.9.0" newVersion="2.9.9.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <gibraltar>
    <!-- Here is where all of the Gibraltar configuration sections can be added. -->
  </gibraltar>
  <system.diagnostics>
    <trace>
      <listeners>
        <add name="gibraltar" type="Gibraltar.Agent.LogListener, Gibraltar.Agent" />
      </listeners>
    </trace>
  </system.diagnostics>
  <system.web>
    <membership defaultProvider="ClientAuthenticationMembershipProvider">
      <providers>
        <add name="ClientAuthenticationMembershipProvider" type="System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" serviceUri="" />
      </providers>
    </membership>
    <roleManager defaultProvider="ClientRoleProvider" enabled="true">
      <providers>
        <add name="ClientRoleProvider" type="System.Web.ClientServices.Providers.ClientRoleProvider, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" serviceUri="" cacheTimeout="86400" />
      </providers>
    </roleManager>
  </system.web>
</configuration>